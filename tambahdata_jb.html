<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tambah Data Jabatan</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main-content">
        <header>
            <h1>Tambah Data Jabatan</h1>
        </header>
        <div class="content">
            <!-- Form tambah data jabatan -->
            <form id="formTambahJabatan">
                <label for="kodeJabatan">Kode Jabatan:</label>
                <input type="text" id="kodeJabatan" name="kodeJabatan" readonly>
                
                <label for="jabatan">Jabatan:</label>
                <input type="text" id="jabatan" name="jabatan" required>
                
                <button type="button" onclick="simpanDataJabatan()">Simpan</button>
            </form>
        </div>
    </div>

    <script>
        // Fungsi untuk mengisi kode jabatan secara otomatis
        function generateKodeJabatan() {
            var dataJabatan = JSON.parse(localStorage.getItem('dataJabatan')) || [];
            return 'JB' + (dataJabatan.length + 1).toString().padStart(3, '0');
        }

        // Tampilkan kode jabatan otomatis saat halaman dimuat
        document.getElementById("kodeJabatan").value = generateKodeJabatan();

        // Fungsi untuk menyimpan data jabatan
        function simpanDataJabatan() {
            var kodeJabatan = document.getElementById("kodeJabatan").value;
            var jabatan = document.getElementById("jabatan").value;

            // Ambil data jabatan dari localStorage
            var dataJabatan = JSON.parse(localStorage.getItem('dataJabatan')) || [];

            // Tambah data baru ke array
            dataJabatan.push({ kodeJabatan, jabatan });

            // Simpan kembali ke localStorage
            localStorage.setItem('dataJabatan', JSON.stringify(dataJabatan));

            // Arahkan ke halaman jabatan
            window.location.href = 'jabatan.html';
        }
    </script>
</body>
</html>
